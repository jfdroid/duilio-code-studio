# Service List

## Overview

DuilioCode Studio has **36+ services** organized by responsibility. This document lists all of them and explains their functions.

## Main Services

### 1. OllamaService
**File**: `src/services/ollama_service.py`

**Function**: Communication with Ollama server

**Main Methods**:
- `generate()` - Generates model response
- `generate_stream()` - Streaming generation
- `health_check()` - Checks Ollama status

**Usage**:
```python
ollama = get_ollama_service()
response = await ollama.generate(prompt, model)
```

### 2. ActionProcessor
**File**: `src/services/action_processor.py`

**Function**: Processes and executes actions generated by AI

**Main Methods**:
- `extract_actions()` - Extracts actions from text
- `process_actions()` - Executes actions
- `create_file()` - Creates file
- `create_directory()` - Creates directory

**Usage**:
```python
processor = get_action_processor()
actions = processor.extract_actions(response_text)
await processor.process_actions(actions, workspace_path)
```

### 3. LinguisticAnalyzer
**File**: `src/services/linguistic_analyzer.py`

**Function**: Advanced linguistic analysis (verbs, connectors, patterns)

**Main Methods**:
- `analyze()` - Analyzes complete text
- `_extract_verbs()` - Extracts verbs
- `_extract_connectors()` - Extracts connectors
- `build_structured_context()` - Creates structured context

**Usage**:
```python
analyzer = get_linguistic_analyzer()
analysis = analyzer.analyze("why didn't you create?")
if analysis.requires_explanation:
    # Adds explanation instructions
```

### 4. IntentDetector
**File**: `src/services/intent_detector.py`

**Function**: Detects CRUD intentions (Create, Read, Update, Delete)

**Main Methods**:
- `detect_file_intent()` - Detects file intention
- `detect_crud_intent()` - Detects CRUD operation

**Usage**:
```python
detector = get_intent_detector()
intent = detector.detect_crud_intent("create a file")
# Returns: {'create': True, 'read': False, ...}
```

### 5. CodebaseAnalyzer
**File**: `src/services/codebase_analyzer.py`

**Function**: Analyzes codebase structure

**Main Methods**:
- `analyze()` - Analyzes complete codebase
- `get_file_tree()` - Gets file tree
- `get_dependencies()` - Gets dependencies

**Usage**:
```python
analyzer = get_codebase_analyzer()
context = analyzer.analyze(workspace_path)
```

### 6. WorkspaceService
**File**: `src/services/workspace_service.py`

**Function**: Workspace management

**Main Methods**:
- `get_current_path()` - Gets current path
- `set_workspace()` - Sets workspace
- `list_files()` - Lists files

**Usage**:
```python
workspace = get_workspace_service()
files = workspace.list_files(workspace_path)
```

### 7. FileService
**File**: `src/services/file_service.py`

**Function**: File operations

**Main Methods**:
- `read_file()` - Reads file
- `write_file()` - Writes file
- `delete_file()` - Deletes file
- `file_exists()` - Checks existence

**Usage**:
```python
file_service = get_file_service()
content = file_service.read_file("teste.txt", workspace_path)
```

### 8. CacheService
**File**: `src/services/cache_service.py`

**Function**: Data cache (memory + disk)

**Main Methods**:
- `get()` - Gets from cache
- `set()` - Saves to cache
- `clear()` - Clears cache

**Usage**:
```python
cache = get_cache_service()
context = cache.get("codebase_context")
if not context:
    context = analyze_codebase()
    cache.set("codebase_context", context, ttl=3600)
```

### 9. PromptBuilder
**File**: `src/services/prompt_builder.py`

**Function**: Optimized prompt construction

**Main Methods**:
- `build_system_prompt()` - Builds system prompt
- `build_file_listing_context()` - Builds file listing context
- `_build_create_prompt()` - Prompt for CREATE
- `_build_read_prompt()` - Prompt for READ

**Usage**:
```python
builder = get_prompt_builder()
prompt = builder.build_system_prompt(
    operation=OperationType.CREATE,
    context=context
)
```

### 10. SystemInfoService
**File**: `src/services/system_info.py`

**Function**: Collects system information

**Main Methods**:
- `get_system_info()` - Gets complete info
- `get_os_info()` - OS info
- `get_cpu_info()` - CPU info
- `get_memory_info()` - Memory info

**Usage**:
```python
info_service = get_system_info_service()
system_info = info_service.get_system_info()
# Returns: OS, CPU, Memory, User, Hostname
```

## Support Services

### 11. DatabaseService
**File**: `src/services/database_service.py`

**Function**: Database operations

**Methods**:
- `get_preference()` - Gets preference
- `set_preference()` - Sets preference
- `save_message()` - Saves message
- `get_conversation_history()` - Gets history
- `save_metric()` - Saves metric

### 12. UserPreferencesService
**File**: `src/services/user_preferences.py`

**Function**: User preference management

### 13. ConversationMemoryService
**File**: `src/services/conversation_memory.py`

**Function**: Conversation memory

### 14. GitService
**File**: `src/services/git_service.py`

**Function**: Git operations

**Methods**:
- `get_status()` - Git status
- `commit()` - Makes commit
- `get_diff()` - Gets diff

### 15. CodeExecutor
**File**: `src/services/code_executor.py`

**Function**: Safe code execution

**Methods**:
- `execute()` - Executes code
- `execute_safe()` - Execution with sandbox

## Analysis Services

### 16. FileIntelligence
**File**: `src/services/file_intelligence.py`

**Function**: Intelligent file analysis

### 17. PathIntelligence
**File**: `src/services/path_intelligence.py`

**Function**: Path intelligence

### 18. ProjectDetector
**File**: `src/services/project_detector.py`

**Function**: Detects project type

### 19. LanguageDetector
**File**: `src/services/language_detector.py`

**Function**: Detects programming language

### 20. DependencyGraph
**File**: `src/services/dependency_graph.py`

**Function**: Dependency graph

## Generation Services

### 21. IntelligentScaffolder
**File**: `src/services/intelligent_scaffolder.py`

**Function**: Intelligent project scaffolding

### 22. ProjectScaffolding
**File**: `src/services/project_scaffolding.py`

**Function**: Project scaffolding

### 23. DocumentationGenerator
**File**: `src/services/documentation_generator.py`

**Function**: Documentation generation

## Validation Services

### 24. IntelligentValidator
**File**: `src/services/intelligent_validator.py`

**Function**: Intelligent code validation

### 25. SOLIDValidator
**File**: `src/services/solid_validator.py`

**Function**: SOLID principles validation

### 26. SecurityScanner
**File**: `src/services/security_scanner.py`

**Function**: Security scanning

## Refactoring Services

### 27. RefactoringService
**File**: `src/services/refactoring_service.py`

**Function**: Code refactoring

## RAG Services

### 28. RAGService
**File**: `src/services/rag_service.py`

**Function**: Retrieval-Augmented Generation

## Prompt Services

### 29. PromptClassifier
**File**: `src/services/prompt_classifier.py`

**Function**: Prompt classification

### 30. PromptExamples
**File**: `src/services/prompt_examples.py`

**Function**: Prompt examples

### 31. PromptRegistry
**File**: `src/services/prompt_registry.py`

**Function**: Prompt registry

## Utility Services

### 32. DirectoryTree
**File**: `src/services/directory_tree.py`

**Function**: Directory tree

### 33. RelevanceScorer
**File**: `src/services/relevance_scorer.py`

**Function**: Relevance score

### 34. AgentService
**File**: `src/services/agent_service.py`

**Function**: Agent service

## How to Use

### Get Service

```python
from core.container import get_ollama_service

ollama = get_ollama_service()
```

### Inject Dependency

```python
@router.post("/chat")
async def chat(
    ollama: OllamaService = Depends(get_ollama_service)
):
    response = await ollama.generate(...)
```

## Next Steps

- [Complex Algorithms](31-algorithms.md)
- [Data Flows](32-flows.md)
